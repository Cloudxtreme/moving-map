<html>

<head>

  <title> Pubnub Demo </title>
  <meta charset="utf-8"/>
  <script src="https://cdn.pubnub.com/sdk/javascript/pubnub.4.3.2.min.js" type="text/javascript"></script>
  <script src="pubnub.js" type="text/javascript"></script>
</head>

<body>
<button onClick="didClickButton()">Publish</button>
<script type="text/javascript">

  tracker = new LocationTracker();
  tracker.setListener(function(latitude, longitude) {
    console.log('location = ' + latitude + ", " + longitude);
  });

  function didClickButton() {
    getLocation();
    tracker.publishLocation(1.0001, 1.123);
  };

  function getLocation() {
    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(showPosition);
    } else {
        alert("Geolocation is not supported by this browser.");
    }
  }
  function showPosition(position) {
    console.log("Latitude: " + position.coords.latitude +
    "<br>Longitude: " + position.coords.longitude);
  }
</script>
</body>
</html>